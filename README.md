**SHAWN'S PIZZA SHOP**

![romain-chollet-3bdXRhUdYtw-unsplash](https://github.com/Kamorrra/global_bike_sales/assets/106885170/068ef4ac-3fe0-4296-bbb1-0cc0b1659a37)

**PROJECT BRIEF**

Shawn is opening a new Pizza shop in his hometown of London and has asked us to **design a bespoke relational database** that will allow him to **capture and store** all of the data that the business will generate. This will help Shawn to monitor business performance with dashboards that we will build within this project.

In this project we will be focusing on three main areas of the business
- Customer Orders
- Stock Control
- Staff

------------------------------

**TOOLSET**

- Quick DBD
- Excel
- SQL
- Tableau

------------------------------

**DATASET**

[Here](https://github.com/Kamorrra/global_bike_sales/files/13194100/Shawns_Pizza_Shop.xlsx) is a collection of data generated by Shawn's Pizza Shop that's been collected, and transformed to optimize flow for data to be generated or transformed again in the future

**Customers Table**

<img width="903" alt="SPS_xl_custs" src="https://github.com/Kamorrra/global_bike_sales/assets/106885170/a67d6160-1d27-4bc2-83ef-ff69f80c6631">

**Addresses Table**

<img width="903" alt="SPS_xl_addrs" src="https://github.com/Kamorrra/global_bike_sales/assets/106885170/b96687b1-9c7a-4ad4-8dd6-d93bbb6e6829">

**Ingredients Table**

<img width="903" alt="SPS_xl_ing" src="https://github.com/Kamorrra/global_bike_sales/assets/106885170/2f4ea089-7d2e-43d5-bca9-d0c17a033d12">

------------------------------

**Relational Database: Quick DBD**

Using Quick DBD allowed me to visually create the relational database for Shawn's business and all of the tables that will live inside the database.

![QuickDBD-export](https://github.com/Kamorrra/global_bike_sales/assets/106885170/271f8741-5253-4a51-84e7-5a3f48e3e92e)

What we are able to see is that some of the tables within the database have similar fields that will provide us the primary and foreign keys that we will use to join tables in SQL later in this project

------------------------------

**Relational Database: SQL**

Below is a sample of the MySQL syntax used to create the database and tables within it.

CREATE DATABASE Pizza_DB;

USE Pizza_DB;

CREATE TABLE `orders` (
    `row_id` int  NOT NULL ,
    `order_id` int  NOT NULL ,
    `created_at` datetime  NOT NULL ,
    `product_id` int  NOT NULL ,
    `quantity` int  NOT NULL ,
    `cust_id` int  NOT NULL ,
    `delivery` boolean  NOT NULL ,
    `address_id` int  NOT NULL ,
    PRIMARY KEY (
        `row_id`
    )
);

CREATE TABLE `customers` (
    `cust_id` int  NOT NULL ,
    `cust_firstname` varchar(50)  NOT NULL ,
    `cust_lastname` varchar(50)  NOT NULL ,
    PRIMARY KEY (
        `cust_id`
    )
);

CREATE TABLE `address` (
    `address_id` int  NOT NULL ,
    `delivery_address1` varchar(200)  NOT NULL ,
    `delivery_address2` varchar(200)  NULL ,
    `delivery_city` varchar(100)  NOT NULL ,
    `delivery_zip` varchar(30)  NOT NULL ,
    PRIMARY KEY (
        `address_id`
    )
);

CREATE TABLE `product` (
    `product_id` varchar(50)  NOT NULL ,
    `sku` varchar(100)  NOT NULL ,
    `item_name` varchar(50)  NOT NULL ,
    `item_cat` varchar(30)  NOT NULL ,
    `item_size` varchar(30)  NOT NULL ,
    `item_price` decimal(4,2)  NOT NULL ,
    PRIMARY KEY (
        `product_id`
    )
);

CREATE TABLE `ingredients` (
    `ing_id` varchar(10)  NOT NULL ,
    `ing_name` varchar(200)  NOT NULL ,
    `ing_weight` int  NOT NULL ,
    `ing_meas` varchar(20)  NOT NULL ,
    `ing_price` decimal(5,2)  NOT NULL ,
    PRIMARY KEY (
        `ing_id`
    )
);

------------------------------

**Business Task: Tracking Order Activity** 

Per Shawn's request, we created a view in SQL that will track customer orders. These are the specific metrics we are targeting:

1. Total Orders
2. Total Sales
3. Total Items
4. Average Order Values
5. Sales by Category
6. Top Selling Items
7. Orders by Hours
8. Sales by Hour
9. Orders by Address



Below is the SQL query that accomplishes all of theses list items;

**SELECT**

o.order_id,
i.item_price,
o.quantity,
i.item_cat,
i.item_name,
o.created_at,
a.delivery_address1,
a.delivery_address2,
a.delivery_city,
a.delivery_zipcode,
o.delivery 

**FROM** orders o

**LEFT JOIN** items i **ON** o.item_id = i.item_id
**LEFT JOIN** addresses a **ON** o.add_id = a.add_id

